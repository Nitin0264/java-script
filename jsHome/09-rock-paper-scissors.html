<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="icon"
      href="https://static0.pocketlintimages.com/wordpress/wp-content/uploads/146898-phones-feature-the-best-apple-iphone-photos-ever-taken-image1-ydter7skel.jpg?&fit=crop&w=1600&h=900">
  </head>
  <body>

    <h2>Rock Paper Scissors</h2>
    <button onclick="
      playGame('rock')
      ">Rock
    </button>
       
    <button onclick="
           playGame('paper');
        ">paper
    </button>

    <button onclick="
      playGame('scissors');
 ">scissors
    </button>

    <p class="js-result"></p>
    <p class="js-moves"></p>
    <p class="js-score"></p>

    <button onclick="
score.wins = 0;
score.loses = 0
score.tie = 0;
localStorage.removeItem('score');
updateScoreElement();
">
      Reset Score
    </button>

    <script>
     
     let score  = JSON.parse(localStorage.getItem('score')) || {
            wins : 0,
            loses :0,
            tie : 0
          };

          updateScoreElement();
        
    //  if(score === null)
    // we can also write it as
    // this mean score exist or not
    // if(!score)    we have done this above using the 
    //     {
    //       score ={
    //         wins : 0,
    //         loses :0,
    //         tie : 0
    //       }
    //     }
    // json only support "  "  
    //     //  JSON.parse.getItem('score');
    //  at bottme we converted our score into string using json because localStorage only support stiring now we are going to change it back into json object to get the output

      function updateScoreElement ()
      {
                  document.querySelector('.js-score').innerHTML = `Wins:${score.wins} Loses:${score.loses} tie:${score.tie}`
      }


function pickComputerMove()
{
         let computerMove = ''

      const randomNumber = Math.random();
        
      if(randomNumber >= 0 && randomNumber < 1 / 3)
      {
        computerMove = 'rock'
      }
      else if(randomNumber >= 1 / 3  && randomNumber < 2 / 3 )
      {
            computerMove = 'paper'
      }
      else if (randomNumber >= 2 / 3  && randomNumber <1)
      {
        computerMove = 'scissors'
      }
      return computerMove;
}


function playGame(playerMove)
{

   const computerMove  =    pickComputerMove();
        //  we stored the function into the variable
                let result = '';
                if(playerMove === 'scissors')
                {

                if(computerMove === 'rock')
                {
                  result = 'you lose';
                }
                else if(computerMove === 'paper')
                {
                result = 'you win'
                }
                else if(computerMove === 'scissors')
                {
                  result = 'tie'
                }

                 }
                else if(playerMove === 'paper')
               
                {
                        if(computerMove === 'rock')
                        {
                          result = 'you win';
                        }
                        else if(computerMove === 'paper')
                        {
                        result = 'tie'
                        }
                        else if(computerMove === 'scissors')
                        {
                          result = 'you lose'
                        }
                            }

                                else if (playerMove === 'rock')
                                  {
                                         if(computerMove === 'rock')
                                         {
                                           result = 'tie';
                                         }
                                         else if(computerMove === 'paper')
                                         {
                                         result = 'you lose'
                                         }
                                         else if(computerMove === 'scissors')
                                         {
                                           result = 'you win'
                                         }
                                  }


                           // updating score

                  if(result  === 'you win')
                  {
                    score.wins +=1;
                  }
                  else if (result === 'you lose')
                  {
                    score.loses += 1;
                  }
                  else if(result === 'tie')
                  {
                     score.tie += 1;

                  }

                  localStorage.setItem('score',JSON.stringify(score));
                    
                   updateScoreElement();

                   document.querySelector('.js-result').innerHTML = result;
              
                   document.querySelector('.js-moves').innerHTML = `You ${playerMove} - ${computerMove} Computer`;
              

}


  </script>
  </body>
</html>